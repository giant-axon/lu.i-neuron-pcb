\documentclass[crop,tikz]{standalone}

\usepackage{svg}

\usetikzlibrary{shapes.geometric}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{positioning}
\usetikzlibrary{calc}

\usepackage[outline]{contour}

\usepackage{rotating}

\begin{document}


\input{neuron.tex}

\begin{tikzpicture}[
    scale=1.,
    >=latex,
    transform shape,
]
    \useasboundingbox[fill=white] (-11, -2.5) rectangle (11, 2.5);

    \def\numNeurons{5}
    \def\scale{1.3}
    \def\halfAngleConnection{10}
    \def\angleNeuron{10}
    \def\posXoffset{-10.4}
    \def\lengthSeparation{3.5}
    \def\angleOut{-20}
    \def\angleIn{180}


    % % draw ellipse on which the neurons lie
    % \draw (0,0) ellipse (\axlengthA cm and \axlengthB cm );

    % neurons
    \foreach \i in {1,...,\numNeurons}
    {
        \pcbNeuron{neuron-\i}{
            \posXoffset + \i * \lengthSeparation, 0
        }{\scale}{\angleNeuron} ;
    }

    % connections
    \foreach \i in {1,...,\numNeurons}
    {
        \pgfmathtruncatemacro\nexts{ifthenelse(\i==\numNeurons, 1, round(\i+1))}
        \ifthenelse{\equal{\i}{\numNeurons}}{}{
            \draw[connection] (neuron-\i-Ab) to[out=\angleOut,in=\angleIn] (neuron-\nexts-Db);
        }
    }


\end{tikzpicture}
\end{document}
