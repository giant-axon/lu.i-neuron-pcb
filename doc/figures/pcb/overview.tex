\documentclass[varwidth=20cm, convert={density=300,outext=.png}]{standalone}

\input{preamble.tex}
\input{circuits.tex}

\begin{document}

\begin{center}
\begin{tikzpicture}
	\pic at (-5.0,  0) {synapse};
	\pic at (-2.8, -6.9) {leaky-integrator};
	\pic at ( 5.0, -1.3) {reset};

	\node[right, white, fill=black] at (-9.5,  2.9) {\large\bfseries \vphantom{gl}synapse (\texttimes 3)};
	\node[right, white, fill=black] at (-9.5, -7.5) {\large\bfseries \vphantom{gl}leaky integrator};
	\node[left, white, fill=black] at (10.3, 2.9) {\large\bfseries \vphantom{gl}threshold + reset};

	\draw[gray] (-9.3, -4) -- (-0.5, -4);
	\draw[gray] (0, 2.9) -- (0, -7.4);

	\begin{scope}[on background layer]
		\node[minimum width=20cm, fit=(current bounding box.north west) (current bounding box.south east), inner sep=2pt, fill=white] {};
	\end{scope}
\end{tikzpicture}

\end{center}

\end{document}
